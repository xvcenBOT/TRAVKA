# messages.py (fixed)
RU_TEXTS = {
    "start_message": (
        "<b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ TRAVKA OTC ‚Äì –Ω–∞–¥—ë–∂–Ω—ã–π P2P‚Äë–≥–∞—Ä–∞–Ω—Ç</b>\n\n"
        "<b>üíº –ü–æ–∫—É–ø–∞–π—Ç–µ –∏ –ø—Ä–æ–¥–∞–≤–∞–π—Ç–µ –≤—Å—ë, —á—Ç–æ —É–≥–æ–¥–Ω–æ ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ!</b>\n"
        "–û—Ç Telegram‚Äë–ø–æ–¥–∞—Ä–∫–æ–≤ –∏ NFT –¥–æ —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Ñ–∏–∞—Ç–∞ ‚Äî —Å–¥–µ–ª–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –ª–µ–≥–∫–æ –∏ –±–µ–∑ —Ä–∏—Å–∫–∞.\n\n"
        "üîπ –£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞–º–∏\n"
        "üîπ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞\n\n"
        "<b>üìñ –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è?</b>\n"
        "–û–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π ‚Äî https://telegra.ph/Podrobnyj-gajd-po-ispolzovaniyu-TravkaDeal-bot-09-13\n\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª –Ω–∏–∂–µ:"
    ),
    "wallet_menu_message": "–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:",
    "add_ton_wallet_message": (
        "<b>üíº –í–∞—à —Ç–µ–∫—É—â–∏–π TON‚Äë–∫–æ—à–µ–ª—ë–∫:</b> <code>{current_wallet}</code>\n\n"
        "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –∫–æ—à–µ–ª—å–∫–∞."
    ),
    "add_card_message": (
        "<b>üí≥ –í–∞—à–∏ —Ç–µ–∫—É—â–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã:</b> <code>{current_card}</code>\n\n"
        "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ: <code>–ë–∞–Ω–∫ - –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã</code>."
    ),
    "no_requisites_message": "‚ùå –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —Å–¥–µ–ª–∫–∏.",
    "choose_payment_method_message": "<b>üí∞ –í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã:</b>",
    "create_deal_message": (
        "<b>üíº –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏</b>\n\n"
        "–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ: <code>100.5</code>"
    ),
    "change_lang_message": "–°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫:",
    "awaiting_description_message": (
        "<b>üìù –£–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç–µ –≤ —ç—Ç–æ–π —Å–¥–µ–ª–∫–µ:</b>\n\n"
        "<code>–ü—Ä–∏–º–µ—Ä: 10 –∫–µ–ø–æ–∫ –∏ –ü–µ–ø–µ</code>"
    ),
    "wallet_updated": "üîó {wallet_type} –æ–±–Ω–æ–≤–ª—ë–Ω: {details}",
    "deal_created_message": (
        "<b>‚úÖ –°–¥–µ–ª–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!</b>\n\n"
        "üí∞ –°—É–º–º–∞: {amount} {valute}\n"
        "üìú –û–ø–∏—Å–∞–Ω–∏–µ: <b>{description}</b>\n"
        "üîó –°—Å—ã–ª–∫–∞ –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è: {deal_link}"
    ),
    "deal_info_ton_message": (
        "üí≥ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–¥–µ–ª–∫–µ #{deal_id}\n\n"
        "üë§ –í—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—å –≤ —Å–¥–µ–ª–∫–µ.\n"
        "üìå –ü—Ä–æ–¥–∞–≤–µ—Ü: @{seller_username}\n"
        "‚Ä¢ –£—Å–ø–µ—à–Ω—ã–µ —Å–¥–µ–ª–∫–∏: {successful_deals}\n\n"
        "‚Ä¢ –í—ã –ø–æ–∫—É–ø–∞–µ—Ç–µ: {description}\n\n"
        "üè¶ –ê–¥—Ä–µ—Å –¥–ª—è –æ–ø–ª–∞—Ç—ã (TON): {wallet}\n\n"
        "üí∞ –°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ: {amount} TON\n"
        "üìù –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–ª–∞—Ç–µ–∂—É (–º–µ–º–æ): {deal_id}\n\n"
        "‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ–π. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–º–µ–º–æ) –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!\n\n"
        "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –æ–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º."
    ),
    "deal_info_sbp_message": (
        "üí≥ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–¥–µ–ª–∫–µ #{deal_id}\n\n"
        "üë§ –í—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—å –≤ —Å–¥–µ–ª–∫–µ.\n"
        "üìå –ü—Ä–æ–¥–∞–≤–µ—Ü: @{seller_username}\n"
        "‚Ä¢ –£—Å–ø–µ—à–Ω—ã–µ —Å–¥–µ–ª–∫–∏: {successful_deals}\n\n"
        "‚Ä¢ –í—ã –ø–æ–∫—É–ø–∞–µ—Ç–µ: {description}\n\n"
        "üí≥ –ö–∞—Ä—Ç–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã (–†–§): {card}\n\n"
        "üí∞ –°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ: {amount} RUB\n"
        "üìù –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–ª–∞—Ç–µ–∂—É: {deal_id}\n\n"
        "‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ–π. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!\n\n"
        "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –æ–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º."
    ),
    "deal_info_stars_message": (
        "üí≥ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–¥–µ–ª–∫–µ #{deal_id}\n\n"
        "üë§ –í—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—å –≤ —Å–¥–µ–ª–∫–µ.\n"
        "üìå –ü—Ä–æ–¥–∞–≤–µ—Ü: @{seller_username}\n"
        "‚Ä¢ –£—Å–ø–µ—à–Ω—ã–µ —Å–¥–µ–ª–∫–∏: {successful_deals}\n\n"
        "‚Ä¢ –í—ã –ø–æ–∫—É–ø–∞–µ—Ç–µ: {description}\n\n"
        "üåü –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Telegram Stars: {command}\n\n"
        "üí∞ –°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ: {amount} –ó–≤—ë–∑–¥\n"
        "üìù –£–∫–∞–∂–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: {deal_id}\n\n"
        "‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ–π. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!\n\n"
        "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –æ–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º."
    ),
    "payment_confirmed_message": (
        "‚úÖ –û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –¥–ª—è —Å–¥–µ–ª–∫–∏ #{deal_id}.\n\n"
        "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∞ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–æ–¥–∞–≤–µ—Ü –µ–≥–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç."
    ),
    "payment_confirmed_seller_message": (
        "<b>‚úÖ –û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –¥–ª—è —Å–¥–µ–ª–∫–∏</b> <code>#{deal_id}</code>.\n\n"
        "–°—É–º–º–∞: {amount}\n"
        "–û–ø–∏—Å–∞–Ω–∏–µ: {description}\n\n"
        "‚ùóÔ∏è<b>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ–¥–∞–π—Ç–µ NFT‚Äë–ø–æ–¥–∞—Ä–æ–∫.</b>\n"
        "<b><u>–¢–æ–ª—å–∫–æ —Ö–æ–ª–¥–µ—Ä—É –±–æ—Ç–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:</u></b>\n"
        "@travkadeal_support\n\n"
        "‚ö†Ô∏è <b><u>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:</u></b>\n"
        "‚û§ <b>–ü–æ–¥–∞—Ä–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–º–µ–Ω–Ω–æ —Ö–æ–ª–¥–µ—Ä—É @travkadeal_support –∞ –Ω–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª—é –Ω–∞–ø—Ä—è–º—É—é.</b>\n"
        "‚û§ –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞.\n\n"
        "–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–¥–∞—Ä–∫–∞ —Ö–æ–ª–¥–µ—Ä—É –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∫–Ω–æ–ø–∫–æ–π –Ω–∏–∂–µ:"
    ),
    "seller_confirm_sent_message": (
        "‚úÖ –í—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫—É –ø–æ–¥–∞—Ä–∫–∞ –¥–ª—è —Å–¥–µ–ª–∫–∏ #{deal_id}.\n"
        "–û–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—è."
    ),
    "seller_confirm_sent_notification": (
        "üéÅ –ü—Ä–æ–¥–∞–≤–µ—Ü @{seller_username} (https://t.me/{seller_username}) –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –æ—Ç–ø—Ä–∞–≤–∫—É –ø–æ–¥–∞—Ä–∫–∞ –¥–ª—è —Å–¥–µ–ª–∫–∏ #{deal_id}.\n\n"
        "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏–µ."
    ),
    "buyer_confirm_received_message": (
        "‚úÖ –°–¥–µ–ª–∫–∞ #{deal_id} –∑–∞–≤–µ—Ä—à–µ–Ω–∞.\n\n"
        "–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞."
    ),
    "seller_notification_message": (
        "üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å @{buyer_username} –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ —Å–¥–µ–ª–∫–µ #{deal_id}\n"
        "‚Ä¢ –£—Å–ø–µ—à–Ω—ã–µ —Å–¥–µ–ª–∫–∏: {successful_deals}\n\n"
        "‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —ç—Ç–æ —Ç–æ—Ç –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Å –∫–æ—Ç–æ—Ä—ã–º –≤—ã –≤–µ–ª–∏ –¥–∏–∞–ª–æ–≥ —Ä–∞–Ω–µ–µ!"
    ),
    "insufficient_balance_message": "‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ!",
    "admin_panel_message": "üîß –ê–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª—å:",
    "admin_broadcast_message": "üì¢ –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:",
    "broadcast_success_message": (
        "üì¢ –†–∞—Å—Å—ã–ª–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.\n"
        "‚úÖ –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: {success_count}\n"
        "‚ùå –û—à–∏–±–æ–∫: {fail_count}"
    ),
    "admin_view_deals_message": "üí≥ –í—ã–±–µ—Ä–∏—Ç–µ —Å–¥–µ–ª–∫—É:\n{deals_list}",
    "admin_view_deal_message": (
        "<b>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–¥–µ–ª–∫–µ #{deal_id}</b>\n\n"
        "üë§ <b>–ü—Ä–æ–¥–∞–≤–µ—Ü:</b> @{seller_username} (ID: <code>{seller_id}</code>)\n"
        "‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫: {seller_successful_deals}\n\n"
        "üë§ <b>–ü–æ–∫—É–ø–∞—Ç–µ–ª—å:</b> @{buyer_username} (ID: <code>{buyer_id}</code>)\n"
        "‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫: {buyer_successful_deals}\n\n"
        "‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ\n\n"
        "üìù <b>–û–ø–∏—Å–∞–Ω–∏–µ:</b>\n{description}\n\n"
        "üí∞ <b>–°—É–º–º–∞:</b> {amount} {valute}\n"
        "üí≥ <b>–†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã:</b>\n<code>{payment_details}</code>\n\n"
        "üìä <b>–°—Ç–∞—Ç—É—Å:</b> {status}"
    ),
    "admin_confirm_deal_message": (
        "‚úÖ –û–ø–ª–∞—Ç–∞ –¥–ª—è —Å–¥–µ–ª–∫–∏ #{deal_id} –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.\n"
        "–ü—Ä–æ–¥–∞–≤–µ—Ü –∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω—ã."
    ),
    "admin_cancel_deal_message": "‚ùå –°–¥–µ–ª–∫–∞ #{deal_id} –±—ã–ª–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.",
    "deal_cancelled_notification": "‚ùå –°–¥–µ–ª–∫–∞ #{deal_id} –±—ã–ª–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.",
    "admin_change_balance_message": "–í–≤–µ–¥–∏—Ç–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å –≤ —Ñ–æ—Ä–º–∞—Ç–µ: user_id –±–∞–ª–∞–Ω—Å",
    "admin_change_successful_deals_message": "–í–≤–µ–¥–∏—Ç–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: user_id –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ",
    "admin_change_valute_message": "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é –≤–∞–ª—é—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, USD, EUR, RUB):",
    "admin_manage_admins_message": "–í–≤–µ–¥–∏—Ç–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –¥–µ–π—Å—Ç–≤–∏–µ (add/remove) –≤ —Ñ–æ—Ä–º–∞—Ç–µ: user_id –¥–µ–π—Å—Ç–≤–∏–µ",
    "admin_added_message": "‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {user_id} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã.",
    "admin_removed_message": "‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {user_id} —É–¥–∞–ª—ë–Ω –∏–∑ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤.",
    "admin_cannot_remove_self_message": "üö´ –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å–µ–±—è –∏–∑ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤!",
    "admin_cannot_remove_super_admin_message": "üö´ –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.",
    "invalid_action_message": "‚ùå –ù–µ–≤–µ—Ä–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 'add' –∏–ª–∏ 'remove'.",
    "admin_list_message": "üëë –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:\n\n{admin_list}",
    "unknown_callback_error": "‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é –∏–∑ –º–µ–Ω—é.",
    "lang_set_message": "‚úÖ –Ø–∑—ã–∫ –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ –†—É—Å—Å–∫–∏–π.",
    "referral_message": (
        "üß∑ –í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞: <code>{referral_link}</code>\n\n"
        "–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã –∑–∞ –∏—Ö —Å–¥–µ–ª–∫–∏!"
    ),
    "menu_button": "üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é",
    "pay_from_balance_button": "üí∏ –û–ø–ª–∞—Ç–∏—Ç—å —Å –±–∞–ª–∞–Ω—Å–∞",
    "add_wallet_button": "ü™ô –î–æ–±–∞–≤–∏—Ç—å/–∏–∑–º–µ–Ω–∏—Ç—å –∫–æ—à–µ–ª—ë–∫",
    "add_ton_wallet_button": "üíº –î–æ–±–∞–≤–∏—Ç—å/–∏–∑–º–µ–Ω–∏—Ç—å TON‚Äë–∫–æ—à–µ–ª—ë–∫",
    "add_card_button": "üí≥ –î–æ–±–∞–≤–∏—Ç—å/–∏–∑–º–µ–Ω–∏—Ç—å –∫–∞—Ä—Ç—É",
    "create_deal_button": "üìÑ –°–æ–∑–¥–∞—Ç—å —Å–¥–µ–ª–∫—É",
    "referral_button": "üß∑ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞",
    "change_lang_button": "üåê Change language",
    "support_button": "üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞",
    "english_lang_button": "üá¨üáß English",
    "russian_lang_button": "üá∑üá∫ –†—É—Å—Å–∫–∏–π",
    "admin_view_deals_button": "üí≥ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–¥–µ–ª–æ–∫",
    "admin_change_balance_button": "üí∞ –ò–∑–º–µ–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "admin_change_successful_deals_button": "‚úÖ –ò–∑–º–µ–Ω–∏—Ç—å —É—Å–ø–µ—à–Ω—ã–µ —Å–¥–µ–ª–∫–∏",
    "admin_change_valute_button": "üí± –ò–∑–º–µ–Ω–∏—Ç—å –≤–∞–ª—é—Ç—É",
    "admin_manage_admins_button": "üëë –ù–∞–∑–Ω–∞—á–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞",
    "admin_list_button": "üëë –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤",
    "admin_confirm_deal_button": "‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å",
    "admin_cancel_deal_button": "‚ùå –û—Ç–º–µ–Ω–∏—Ç—å",
    "seller_confirm_sent_button": "‚úÖ–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É",
    "contact_support_button": "–¢–µ—Ö. –ø–æ–¥–¥–µ—Ä–∂–∫–∞",
    "payment_ton_button": "–ù–∞ TON‚Äë–∫–æ—à–µ–ª—ë–∫",
    "payment_sbp_button": "–ö–∞—Ä—Ç–∞ (–†–§)",
    "payment_stars_button": "–ó–≤—ë–∑–¥—ã",
    "not_specified_wallet": "–Ω–µ —É–∫–∞–∑–∞–Ω",
    "not_specified_card": "–Ω–µ —É–∫–∞–∑–∞–Ω—ã",
    "critical_rule_message": (
        "üõ°Ô∏è<b>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:</b>\n"
        "<b>–ü–æ–¥–∞—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —Ö–æ–ª–¥–µ—Ä—É</b>\n"
        "üëâ @travkadeal_support\n\n"
        "üö´ <b>–ï—Å–ª–∏ –≤–∞–º –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –Ω–∞—Ä—É—à–∏—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É:</b>\n"
        "‚Ä¢ ¬´–ü–µ—Ä–µ–¥–∞–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –ø–æ–∫—É–ø–∞—Ç–µ–ª—é/–¥—Ä—É–≥–æ–º—É –ª–∏—Ü—É¬ª ‚Üí\n"
        "‚Ä¢ –≠—Ç–æ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞!\n"
        "‚Ä¢ –õ—é–±–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –º–∏–º–æ —Ö–æ–ª–¥–µ—Ä–∞:\n"
        "  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è–µ—Ç —Å–¥–µ–ª–∫—É\n"
        "  - –õ–∏—à–∞–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤"
    ),
}

EN_TEXTS = {
    "start_message": (
        "<b>Welcome to TRAVKA OTC ‚Äì a reliable P2P guarantor</b>\n\n"
        "<b>üíº Buy and sell anything ‚Äî safely!</b>\n"
        "From Telegram gifts and NFTs to tokens and fiat ‚Äî transactions are easy and risk‚Äëfree.\n\n"
        "üîπ Convenient wallet management\n"
        "üîπ Referral system\n\n"
        "Choose the desired section below:"
    ),
    "wallet_menu_message": "Select payment method:",
    "add_ton_wallet_message": (
        "üíº Your current TON wallet: <code>{current_wallet}</code>\n\n"
        "Please send the new wallet address."
    ),
    "add_card_message": (
        "üí≥ Your current card details: <code>{current_card}</code>\n\n"
        "Please send the card details in the format: <code>Bank - Card Number</code>."
    ),
    "no_requisites_message": "‚ùå Please add payment details before creating a deal.",
    "choose_payment_method_message": "üí∞ Select payment method:",
    "create_deal_message": (
        "üíº Create a deal\n\n"
        "Enter the amount in the format: <code>100.5</code>"
    ),
    "change_lang_message": "Change Language:",
    "awaiting_description_message": (
        "üìù Specify what you are offering in this deal:\n\n"
        "<code>Example: 10 caps and Pepe</code>"
    ),
    "wallet_updated": "üîó {wallet_type} updated: {details}",
    "deal_created_message": (
        "‚úÖ Deal successfully created!\n\n"
        "üí∞ Amount: {amount} {valute}\n"
        "üìú Description: {description}\n"
        "üîó Buyer link: {deal_link}"
    ),
    "deal_info_ton_message": (
        "üí≥ Deal information #{deal_id}\n\n"
        "üë§ You are the buyer in this deal.\n"
        "üìå Seller: @{seller_username}\n"
        "‚Ä¢ Successful deals: {successful_deals}\n\n"
        "‚Ä¢ You are buying: {description}\n\n"
        "üè¶ Payment address (TON): {wallet}\n\n"
        "üí∞ Amount to pay: {amount} TON\n"
        "üìù Payment comment (memo): {deal_id}\n\n"
        "‚ö†Ô∏è Ensure the data is correct before payment. The comment (memo) is mandatory!\n\n"
        "After payment, wait for admin confirmation."
    ),
    "deal_info_sbp_message": (
        "üí≥ Deal information #{deal_id}\n\n"
        "üë§ You are the buyer in this deal.\n"
        "üìå Seller: @{seller_username}\n"
        "‚Ä¢ Successful deals: {successful_deals}\n\n"
        "‚Ä¢ You are buying: {description}\n\n"
        "üí≥ Card for payment (Russia): {card}\n\n"
        "üí∞ Amount to pay: {amount} RUB\n"
        "üìù Payment comment: {deal_id}\n\n"
        "‚ö†Ô∏è Ensure the data is correct before payment. The comment is mandatory!\n\n"
        "After payment, wait for admin confirmation."
    ),
    "deal_info_stars_message": (
        "üí≥ Deal information #{deal_id}\n\n"
        "üë§ You are the buyer in this deal.\n"
        "üìå Seller: @{seller_username}\n"
        "‚Ä¢ Successful deals: {successful_deals}\n\n"
        "‚Ä¢ You are buying: {description}\n\n"
        "üåü Payment via Telegram Stars: {command}\n\n"
        "üí∞ Amount to pay: {amount} Stars\n"
        "üìù Specify comment: {deal_id}\n\n"
        "‚ö†Ô∏è Ensure the data is correct before payment. The comment is mandatory!\n\n"
        "After payment, wait for admin confirmation."
    ),
    "payment_confirmed_message": (
        "‚úÖ Payment confirmed for deal #{deal_id}.\n\n"
        "Please confirm receipt of the gift after the seller sends it."
    ),
    "payment_confirmed_seller_message": (
        "‚úÖ Payment confirmed for deal #{deal_id}.\n\n"
        "Amount: {amount}\n"
        "Description: {description}\n\n"
        "‚ùóÔ∏è Please transfer the NFT‚Äëgift to the bot <b>holder</b> for processing:\n"
        "Only to the <b>holder</b>:\n"
        "@travkadeal_support\n\n"
        "‚ö†Ô∏è Note:\n"
        "‚û§ Transfer must be made to the holder @travkadeal_support not directly to the buyer.\n"
        "‚û§ This is the standard procedure for automatic deal completion via the bot.\n\n"
        "After sending to the holder,\n"
        "confirm the action with the button below:"
    ),
    "seller_confirm_sent_message": (
        "‚úÖ You confirmed sending the gift for deal #{deal_id}.\n"
        "Waiting for the buyer's confirmation of receipt."
    ),
    "seller_confirm_sent_notification": (
        "üéÅ Seller @{seller_username} (https://t.me/{seller_username}) confirmed sending the gift for deal #{deal_id}.\n\n"
        "Please confirm its receipt."
    ),
    "buyer_confirm_received_message": (
        "‚úÖ Deal #{deal_id} completed.\n\n"
        "Thank you for using our service."
    ),
    "seller_notification_message": (
        "üë§ User @{buyer_username} has joined the deal #{deal_id}\n"
        "‚Ä¢ Successful deals: {successful_deals}\n\n"
        "‚ö†Ô∏è Make sure this is the same user you were talking to earlier!"
    ),
    "insufficient_balance_message": "‚ùå Insufficient balance!",
    "admin_panel_message": "üîß Admin panel:",
    "admin_broadcast_message": "üì¢ Enter the text for broadcasting to all users:",
    "broadcast_success_message": (
        "üì¢ Broadcast completed.\n"
        "‚úÖ Successfully sent: {success_count}\n"
        "‚ùå Errors: {fail_count}"
    ),
    "admin_view_deals_message": "üí≥ Select a deal:\n{deals_list}",
    "admin_view_deal_message": (
        "<b>‚ÑπÔ∏è Deal Information #{deal_id}</b>\n\n"
        "üë§ <b>Seller:</b> @{seller_username} (ID: <code>{seller_id}</code>)\n"
        "‚úÖ Successful deals: {seller_successful_deals}\n\n"
        "üë§ <b>Buyer:</b> @{buyer_username} (ID: <code>{buyer_id}</code>)\n"
        "‚úÖ Successful deals: {buyer_successful_deals}\n\n"
        "‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ\n\n"
        "üìù <b>Description:</b>\n{description}\n\n"
        "üí∞ <b>Amount:</b> {amount} {valute}\n"
        "üí≥ <b>Payment Details:</b>\n<code>{payment_details}</code>\n\n"
        "üìä <b>Status:</b> {status}"
    ),
    "admin_confirm_deal_message": (
        "‚úÖ Payment for deal #{deal_id} confirmed by admin.\n"
        "Seller and buyer have been notified."
    ),
    "admin_cancel_deal_message": "‚ùå Deal #{deal_id} was cancelled by admin.",
    "deal_cancelled_notification": "‚ùå Deal #{deal_id} was cancelled by admin.",
    "admin_change_balance_message": "Enter user ID and new balance in the format: user_id balance",
    "admin_change_successful_deals_message": "Enter user ID and number of successful deals in the format: user_id count",
    "admin_change_valute_message": "Enter new currency (e.g., USD, EUR, RUB):",
    "admin_manage_admins_message": "Enter user ID and action (add/remove) in the format: user_id action",
    "admin_added_message": "‚úÖ User {user_id} has been added as an admin.",
    "admin_removed_message": "‚ùå User {user_id} has been removed from admins.",
    "admin_cannot_remove_self_message": "üö´ You cannot remove yourself from admins!",
    "admin_cannot_remove_super_admin_message": "üö´ Cannot remove a super admin.",
    "invalid_action_message": "‚ùå Invalid action. Use 'add' or 'remove'.",
    "admin_list_message": "üëë List of administrators:\n\n{admin_list}",
    "unknown_callback_error": "‚ùå Unknown action. Please select an option from the menu.",
    "lang_set_message": "‚úÖ Language changed to English.",
    "referral_message": (
        "üß∑ Your referral link: <code>{referral_link}</code>\n\n"
        "Invite friends and earn bonuses for their deals!"
    ),
    "menu_button": "üîô Back to menu",
    "pay_from_balance_button": "üí∏ Pay from balance",
    "add_wallet_button": "ü™ô Add/change wallet",
    "add_ton_wallet_button": "üíº Add/change TON wallet",
    "add_card_button": "üí≥ Add/change card",
    "create_deal_button": "üìÑ Create deal",
    "referral_button": "üß∑ Referral link",
    "change_lang_button": "üåê Change language",
    "support_button": "üìû Support",
    "english_lang_button": "üá¨üáß English",
    "russian_lang_button": "üá∑üá∫ –†—É—Å—Å–∫–∏–π",
    "admin_view_deals_button": "üí≥ View deals",
    "admin_change_balance_button": "üí∞ Change user balance",
    "admin_change_successful_deals_button": "‚úÖ Change successful deals",
    "admin_change_valute_button": "üí± Change currency",
    "admin_manage_admins_button": "üëë Appoint/remove admin",
    "admin_list_button": "üëë List of administrators",
    "admin_confirm_deal_button": "‚úÖ Confirm",
    "admin_cancel_deal_button": "‚ùå Cancel",
    "seller_confirm_sent_button": "‚úÖConfirm sending",
    "contact_support_button": "Tech Support",
    "payment_ton_button": "To TON wallet",
    "payment_sbp_button": "Via RU CARD",
    "payment_stars_button": "Stars",
    "not_specified_wallet": "not specified",
    "not_specified_card": "not specified",
    "critical_rule_message": (
        "üõ°Ô∏è Critical rule:\n"
        "The gift must be transferred exclusively to the <b>holder</b>\n"
        "üëâ @travkadeal_support\n\n"
        "üö´ If someone asks you to break the procedure:\n"
        "‚Ä¢ \"Transfer directly to the buyer/another person\" ‚Üí\n"
        "‚Ä¢ This is a scam!\n"
        "‚Ä¢ Any transfer bypassing the holder:\n"
        "  - Will automatically cancel the deal\n"
        "  - Will void refund guarantees"
    ),
}

def get_text(lang, key, **kwargs):
    texts_to_use = RU_TEXTS if lang == 'ru' else EN_TEXTS
    message_template = texts_to_use.get(key, '')

    if not message_template and lang == 'ru':
        message_template = EN_TEXTS.get(key, '')
    elif not message_template and lang == 'en':
        message_template = RU_TEXTS.get(key, '')

    if not message_template:
        print(f"Warning: Text key '{key}' not found for language '{lang}' or fallback.")
        return f"Error: Text for '{key}' not found."

    try:
        return message_template.format(**kwargs)
    except KeyError as e:
        print(f"Warning: Missing placeholder {e} for key '{key}' in lang '{lang}'. Provided kwargs: {kwargs}")
        return f"Error: Text for '{key}' has missing data."
    except Exception as e:
        print(f"Error formatting text for key '{key}', lang '{lang}': {e}")
        return "Error: Could not format message."
